"use strict";(self.webpackChunkmvmd_site=self.webpackChunkmvmd_site||[]).push([[12],{9833:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"tools/query-builder","title":"Query Builder","description":"The MVMD Query Builder helps you construct metadata queries using a visual interface or programmatic APIs.","source":"@site/docs/tools/query-builder.md","sourceDirName":"tools","slug":"/tools/query-builder","permalink":"/tools/query-builder","draft":false,"unlisted":false,"editUrl":"https://github.com/mvmd-org/mvmd-site/edit/main/docs/tools/query-builder.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"API Reference","permalink":"/tools/api-reference"}}');var s=r(4848),l=r(8453);const t={sidebar_position:3},a="Query Builder",c={},d=[{value:"Interactive Query Builder",id:"interactive-query-builder",level:2},{value:"Query Types",id:"query-types",level:2},{value:"Basic Search",id:"basic-search",level:3},{value:"Advanced Filters",id:"advanced-filters",level:3},{value:"Property Filters",id:"property-filters",level:4},{value:"Spatial Queries",id:"spatial-queries",level:4},{value:"Supported Query Operations",id:"supported-query-operations",level:2},{value:"1. Text Search",id:"1-text-search",level:3},{value:"2. Comparison Operations",id:"2-comparison-operations",level:3},{value:"3. Logical Operations",id:"3-logical-operations",level:3},{value:"4. Range Queries",id:"4-range-queries",level:3},{value:"5. Aggregations",id:"5-aggregations",level:3},{value:"Query Examples",id:"query-examples",level:2},{value:"Find Assets by Creator",id:"find-assets-by-creator",level:3},{value:"Complex Property Search",id:"complex-property-search",level:3},{value:"Spatial Search with Properties",id:"spatial-search-with-properties",level:3},{value:"Using Query Results",id:"using-query-results",level:2},{value:"Pagination",id:"pagination",level:3},{value:"Result Formatting",id:"result-formatting",level:3},{value:"Best Practices",id:"best-practices",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"query-builder",children:"Query Builder"})}),"\n",(0,s.jsx)(n.p,{children:"The MVMD Query Builder helps you construct metadata queries using a visual interface or programmatic APIs."}),"\n",(0,s.jsx)(n.h2,{id:"interactive-query-builder",children:"Interactive Query Builder"}),"\n",(0,s.jsx)(n.p,{children:"The interactive query builder provides a visual interface for:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Constructing complex queries"}),"\n",(0,s.jsx)(n.li,{children:"Testing query results"}),"\n",(0,s.jsx)(n.li,{children:"Generating query code"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"query-types",children:"Query Types"}),"\n",(0,s.jsx)(n.h3,{id:"basic-search",children:"Basic Search"}),"\n",(0,s.jsx)(n.p,{children:"Simple text-based search across all metadata fields."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-graphql",children:'{\n  search(query: "avatar", type: "3DModel") {\n    results {\n      name\n      description\n      contentUrl\n    }\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"advanced-filters",children:"Advanced Filters"}),"\n",(0,s.jsx)(n.h4,{id:"property-filters",children:"Property Filters"}),"\n",(0,s.jsx)(n.p,{children:"Filter by specific metadata properties."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-graphql",children:'{\n  search(\n    filter: {\n      type: "3DModel"\n      properties: [\n        { key: "format", value: "glTF" }\n        { key: "license", value: "CC-BY" }\n      ]\n    }\n  ) {\n    results {\n      name\n      contentUrl\n    }\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h4,{id:"spatial-queries",children:"Spatial Queries"}),"\n",(0,s.jsx)(n.p,{children:"Search based on spatial relationships."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-graphql",children:'{\n  nearby(\n    location: {\n      lat: 37.7749\n      lon: -122.4194\n    }\n    radius: "10km"\n  ) {\n    results {\n      name\n      distance\n    }\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"supported-query-operations",children:"Supported Query Operations"}),"\n",(0,s.jsx)(n.h3,{id:"1-text-search",children:"1. Text Search"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Full-text search across metadata fields"}),"\n",(0,s.jsx)(n.li,{children:"Field-specific text search"}),"\n",(0,s.jsx)(n.li,{children:"Fuzzy matching support"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"2-comparison-operations",children:"2. Comparison Operations"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Equals (",(0,s.jsx)(n.code,{children:"eq"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:["Not equals (",(0,s.jsx)(n.code,{children:"ne"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:["Greater than (",(0,s.jsx)(n.code,{children:"gt"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:["Less than (",(0,s.jsx)(n.code,{children:"lt"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:["Contains (",(0,s.jsx)(n.code,{children:"contains"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:["Starts with (",(0,s.jsx)(n.code,{children:"startsWith"}),")"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"3-logical-operations",children:"3. Logical Operations"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"AND"}),"\n",(0,s.jsx)(n.li,{children:"OR"}),"\n",(0,s.jsx)(n.li,{children:"NOT"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"4-range-queries",children:"4. Range Queries"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-graphql",children:'{\n  search(\n    filter: {\n      dateCreated: {\n        gte: "2024-01-01"\n        lte: "2024-12-31"\n      }\n    }\n  ) {\n    results {\n      name\n      dateCreated\n    }\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"5-aggregations",children:"5. Aggregations"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-graphql",children:'{\n  aggregate(\n    groupBy: "creator"\n    metrics: ["count", "avgRating"]\n  ) {\n    results {\n      key\n      count\n      avgRating\n    }\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"query-examples",children:"Query Examples"}),"\n",(0,s.jsx)(n.h3,{id:"find-assets-by-creator",children:"Find Assets by Creator"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-graphql",children:'{\n  search(\n    filter: {\n      creator: "studio-name"\n      type: "Environment"\n    }\n    sort: { field: "dateCreated", order: DESC }\n    limit: 10\n  ) {\n    results {\n      name\n      description\n      dateCreated\n    }\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"complex-property-search",children:"Complex Property Search"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-graphql",children:'{\n  search(\n    filter: {\n      AND: [\n        { type: "3DModel" },\n        { format: "glTF" },\n        {\n          OR: [\n            { license: "CC-BY" },\n            { license: "CC-BY-SA" }\n          ]\n        }\n      ]\n    }\n  ) {\n    results {\n      name\n      contentUrl\n      license\n    }\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"spatial-search-with-properties",children:"Spatial Search with Properties"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-graphql",children:'{\n  nearby(\n    location: { lat: 37.7749, lon: -122.4194 }\n    radius: "10km"\n    filter: {\n      type: "Environment"\n      properties: [\n        { key: "capacity", value: { gt: 100 } }\n      ]\n    }\n  ) {\n    results {\n      name\n      distance\n      capacity\n    }\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"using-query-results",children:"Using Query Results"}),"\n",(0,s.jsx)(n.h3,{id:"pagination",children:"Pagination"}),"\n",(0,s.jsxs)(n.p,{children:["All queries support pagination using ",(0,s.jsx)(n.code,{children:"limit"})," and ",(0,s.jsx)(n.code,{children:"offset"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-graphql",children:'{\n  search(\n    query: "avatar"\n    limit: 20\n    offset: 40\n  ) {\n    results {\n      name\n    }\n    pageInfo {\n      totalResults\n      hasNextPage\n      nextOffset\n    }\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"result-formatting",children:"Result Formatting"}),"\n",(0,s.jsx)(n.p,{children:"Control the output format using field selection:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-graphql",children:'{\n  search(query: "avatar") {\n    results {\n      # Basic fields\n      name\n      description\n      \n      # Nested metadata\n      metadata {\n        dimensions\n        materials\n      }\n      \n      # Related assets\n      related {\n        name\n        type\n      }\n    }\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Query Optimization"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Use specific field queries instead of full-text search when possible"}),"\n",(0,s.jsx)(n.li,{children:"Limit result fields to those needed"}),"\n",(0,s.jsx)(n.li,{children:"Use pagination for large result sets"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Error Handling"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Always check for error responses"}),"\n",(0,s.jsx)(n.li,{children:"Implement retry logic for failed queries"}),"\n",(0,s.jsx)(n.li,{children:"Handle pagination properly"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Caching"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Cache frequently used queries"}),"\n",(0,s.jsx)(n.li,{children:"Implement cache invalidation strategies"}),"\n",(0,s.jsx)(n.li,{children:"Use ETags for response caching"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Rate Limiting"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Stay within API rate limits"}),"\n",(0,s.jsx)(n.li,{children:"Implement request throttling"}),"\n",(0,s.jsx)(n.li,{children:"Monitor API usage"}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>a});var i=r(6540);const s={},l=i.createContext(s);function t(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);