"use strict";(self.webpackChunkmvmd_site=self.webpackChunkmvmd_site||[]).push([[848],{5376:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>a,contentTitle:()=>o,default:()=>p,frontMatter:()=>r,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"geospatial-standards/citygml","title":"citygml","description":"---","source":"@site/docs/geospatial-standards/citygml.md","sourceDirName":"geospatial-standards","slug":"/geospatial-standards/citygml","permalink":"/geospatial-standards/citygml","draft":false,"unlisted":false,"editUrl":"https://github.com/mvmd-org/mvmd-site/edit/main/docs/geospatial-standards/citygml.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"x3d","permalink":"/3d-standards/x3d"},"next":{"title":"3d-tiles","permalink":"/geospatial-standards/3d-tiles"}}');var t=i(4848),s=i(8453);const r={},o=void 0,a={},c=[{value:"sidebar_position: 1",id:"sidebar_position-1",level:2},{value:"Core Properties",id:"core-properties",level:2},{value:"Building Information",id:"building-information",level:3},{value:"Spatial Structure",id:"spatial-structure",level:3},{value:"Complete Example",id:"complete-example",level:2},{value:"Property Guidelines",id:"property-guidelines",level:2},{value:"Building Properties",id:"building-properties",level:3},{value:"Spatial Properties",id:"spatial-properties",level:3},{value:"Component Properties",id:"component-properties",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Integration Examples",id:"integration-examples",level:2},{value:"With USD Environments",id:"with-usd-environments",level:3},{value:"With 3D Tiles",id:"with-3d-tiles",level:3},{value:"Validation Rules",id:"validation-rules",level:2},{value:"Required Properties",id:"required-properties",level:3},{value:"Optional Properties",id:"optional-properties",level:3},{value:"Common Issues",id:"common-issues",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"sidebar_position-1",children:"sidebar_position: 1"}),"\n",(0,t.jsx)(e.h1,{id:"citygml-standard",children:"CityGML Standard"}),"\n",(0,t.jsx)(e.p,{children:"CityGML provides standardized metadata for describing urban environments and architectural elements in the Metaverse. This guide covers how to implement CityGML properties within your spatial metadata."}),"\n",(0,t.jsx)(e.h2,{id:"core-properties",children:"Core Properties"}),"\n",(0,t.jsx)(e.h3,{id:"building-information",children:"Building Information"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-json",children:'{\n  "@context": {\n    "@vocab": "https://schema.org/",\n    "citygml": "http://www.opengis.net/citygml/2.0"\n  },\n  "@type": "Place",\n  "name": "Office Tower",\n  \n  "citygml:building": {\n    "function": "office",\n    "yearBuilt": 2024,\n    "height": 45.5,\n    "storeysAboveGround": 15,\n    "storeysBelowGround": 2,\n    "storeyHeightsAboveGround": [3.5, 3.0, 3.0, 3.0],\n    "lod": 3\n  }\n}\n'})}),"\n",(0,t.jsx)(e.h3,{id:"spatial-structure",children:"Spatial Structure"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-json",children:'{\n  "citygml:spatialStructure": {\n    "footprint": {\n      "type": "Polygon",\n      "coordinates": [[\n        [0, 0],\n        [0, 20],\n        [30, 20],\n        [30, 0],\n        [0, 0]\n      ]],\n      "area": 600\n    },\n    "boundingBox": {\n      "lowerCorner": [0, 0, 0],\n      "upperCorner": [30, 20, 45.5]\n    }\n  }\n}\n'})}),"\n",(0,t.jsx)(e.h2,{id:"complete-example",children:"Complete Example"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-json",children:'{\n  "@context": {\n    "@vocab": "https://schema.org/",\n    "citygml": "http://www.opengis.net/citygml/2.0"\n  },\n  "@type": "Place",\n  "name": "Corporate Headquarters",\n  "description": "Modern office complex with multiple buildings and amenities",\n  \n  "identifier": {\n    "@type": "PropertyValue",\n    "propertyID": "MVMD-ID",\n    "value": "building-2024-001"\n  },\n  \n  "citygml:building": {\n    "function": "office",\n    "usage": "corporate",\n    "yearBuilt": 2024,\n    "height": 45.5,\n    "storeysAboveGround": 15,\n    "storeysBelowGround": 2,\n    "storeyHeightsAboveGround": [4.5, 3.5, 3.0, 3.0],\n    "storeyHeightsBelowGround": [3.5, 3.5],\n    "lod": 3,\n    "class": "highrise"\n  },\n  \n  "citygml:spatialStructure": {\n    "footprint": {\n      "type": "Polygon",\n      "coordinates": [[\n        [0, 0],\n        [0, 40],\n        [60, 40],\n        [60, 0],\n        [0, 0]\n      ]],\n      "area": 2400\n    },\n    "boundingBox": {\n      "lowerCorner": [0, 0, -7],\n      "upperCorner": [60, 40, 45.5]\n    },\n    "volume": 109200\n  },\n  \n  "citygml:components": {\n    "rooms": [\n      {\n        "id": "lobby",\n        "type": "entrance",\n        "floor": 1,\n        "height": 4.5,\n        "area": 200,\n        "access": "public"\n      },\n      {\n        "id": "office-floor-2",\n        "type": "office",\n        "floor": 2,\n        "height": 3.5,\n        "area": 1800,\n        "access": "private"\n      }\n    ],\n    "installations": [\n      {\n        "id": "elevator-1",\n        "type": "transportation",\n        "function": "elevator",\n        "serves": "all"\n      },\n      {\n        "id": "hvac-1",\n        "type": "building_services",\n        "function": "climate_control"\n      }\n    ]\n  },\n  \n  "citygml:appearance": {\n    "themes": ["day", "night"],\n    "materials": [\n      {\n        "id": "facade",\n        "type": "glass",\n        "color": [0.7, 0.7, 0.8, 0.6],\n        "reflectance": 0.3\n      },\n      {\n        "id": "structure",\n        "type": "concrete",\n        "color": [0.8, 0.8, 0.8, 1.0]\n      }\n    ],\n    "textures": [\n      {\n        "id": "facade-texture",\n        "url": "https://example.com/textures/glass-facade.jpg",\n        "resolution": "2048x2048"\n      }\n    ]\n  },\n  \n  "citygml:address": {\n    "street": "Innovation Boulevard",\n    "number": "100",\n    "city": "Metaverse City",\n    "country": "Virtual World",\n    "coordinates": {\n      "latitude": 37.7749,\n      "longitude": -122.4194\n    }\n  },\n  \n  "citygml:metadata": {\n    "source": "architectural_plans",\n    "dataQuality": "high",\n    "lastUpdate": "2024-03-15",\n    "accuracy": 0.1,\n    "references": [\n      {\n        "type": "plans",\n        "url": "https://example.com/plans/building-2024-001"\n      }\n    ]\n  }\n}\n'})}),"\n",(0,t.jsx)(e.h2,{id:"property-guidelines",children:"Property Guidelines"}),"\n",(0,t.jsx)(e.h3,{id:"building-properties",children:"Building Properties"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Specify clear functions"}),"\n",(0,t.jsx)(e.li,{children:"Include accurate measurements"}),"\n",(0,t.jsx)(e.li,{children:"Define story information"}),"\n",(0,t.jsx)(e.li,{children:"Set appropriate LOD"}),"\n",(0,t.jsx)(e.li,{children:"Document usage types"}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"spatial-properties",children:"Spatial Properties"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Define accurate footprints"}),"\n",(0,t.jsx)(e.li,{children:"Include bounding boxes"}),"\n",(0,t.jsx)(e.li,{children:"Calculate volumes"}),"\n",(0,t.jsx)(e.li,{children:"Specify coordinates"}),"\n",(0,t.jsx)(e.li,{children:"Document areas"}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"component-properties",children:"Component Properties"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"List all major rooms"}),"\n",(0,t.jsx)(e.li,{children:"Document installations"}),"\n",(0,t.jsx)(e.li,{children:"Define access levels"}),"\n",(0,t.jsx)(e.li,{children:"Include measurements"}),"\n",(0,t.jsx)(e.li,{children:"Specify functions"}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Structural Organization"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Clear component hierarchy"}),"\n",(0,t.jsx)(e.li,{children:"Logical spatial layout"}),"\n",(0,t.jsx)(e.li,{children:"Proper measurements"}),"\n",(0,t.jsx)(e.li,{children:"Accurate coordinates"}),"\n",(0,t.jsx)(e.li,{children:"Complete definitions"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Level of Detail"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Choose appropriate LOD"}),"\n",(0,t.jsx)(e.li,{children:"Consistent detail level"}),"\n",(0,t.jsx)(e.li,{children:"Balance complexity"}),"\n",(0,t.jsx)(e.li,{children:"Consider performance"}),"\n",(0,t.jsx)(e.li,{children:"Document accuracy"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Component Management"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Organize by function"}),"\n",(0,t.jsx)(e.li,{children:"Define relationships"}),"\n",(0,t.jsx)(e.li,{children:"Include all systems"}),"\n",(0,t.jsx)(e.li,{children:"Document access"}),"\n",(0,t.jsx)(e.li,{children:"Specify connections"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Appearance Handling"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Define materials"}),"\n",(0,t.jsx)(e.li,{children:"Include textures"}),"\n",(0,t.jsx)(e.li,{children:"Support themes"}),"\n",(0,t.jsx)(e.li,{children:"Consider lighting"}),"\n",(0,t.jsx)(e.li,{children:"Document changes"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"integration-examples",children:"Integration Examples"}),"\n",(0,t.jsx)(e.h3,{id:"with-usd-environments",children:"With USD Environments"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-json",children:'{\n  "@context": {\n    "@vocab": "https://schema.org/",\n    "citygml": "http://www.opengis.net/citygml/2.0",\n    "usd": "https://openusd.org/ns/"\n  },\n  "@type": "Place",\n  "name": "Virtual Office",\n  \n  "citygml:building": {\n    "function": "office",\n    "height": 45.5,\n    "lod": 3\n  },\n  \n  "usd:stage": {\n    "upAxis": "Y",\n    "metersPerUnit": 1.0\n  }\n}\n'})}),"\n",(0,t.jsx)(e.h3,{id:"with-3d-tiles",children:"With 3D Tiles"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-json",children:'{\n  "@context": {\n    "@vocab": "https://schema.org/",\n    "citygml": "http://www.opengis.net/citygml/2.0",\n    "3dtiles": "https://www.ogc.org/standards/3dtiles/"\n  },\n  "@type": "Place",\n  "name": "City Block",\n  \n  "citygml:building": {\n    "function": "mixed",\n    "lod": 2\n  },\n  \n  "3dtiles:tileset": {\n    "geometricError": 70,\n    "root": {\n      "boundingVolume": {\n        "region": [-122.4194, 37.7749, -122.4193, 37.7750, 0, 100]\n      }\n    }\n  }\n}\n'})}),"\n",(0,t.jsx)(e.h2,{id:"validation-rules",children:"Validation Rules"}),"\n",(0,t.jsx)(e.h3,{id:"required-properties",children:"Required Properties"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Valid building function"}),"\n",(0,t.jsx)(e.li,{children:"Accurate measurements"}),"\n",(0,t.jsx)(e.li,{children:"Proper LOD specification"}),"\n",(0,t.jsx)(e.li,{children:"Spatial information"}),"\n",(0,t.jsx)(e.li,{children:"Component details"}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"optional-properties",children:"Optional Properties"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Appearance data"}),"\n",(0,t.jsx)(e.li,{children:"Installation details"}),"\n",(0,t.jsx)(e.li,{children:"Address information"}),"\n",(0,t.jsx)(e.li,{children:"Metadata references"}),"\n",(0,t.jsx)(e.li,{children:"Quality parameters"}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"common-issues",children:"Common Issues"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Spatial Accuracy"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Coordinate precision"}),"\n",(0,t.jsx)(e.li,{children:"Measurement units"}),"\n",(0,t.jsx)(e.li,{children:"Volume calculations"}),"\n",(0,t.jsx)(e.li,{children:"Area computations"}),"\n",(0,t.jsx)(e.li,{children:"Height references"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"LOD Management"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Detail consistency"}),"\n",(0,t.jsx)(e.li,{children:"Performance impact"}),"\n",(0,t.jsx)(e.li,{children:"Data volume"}),"\n",(0,t.jsx)(e.li,{children:"Update frequency"}),"\n",(0,t.jsx)(e.li,{children:"Loading strategies"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Review ",(0,t.jsx)(e.a,{href:"/implementation/metadata-profiles/environment-profile",children:"Environment Profile"})," for integration"]}),"\n",(0,t.jsxs)(e.li,{children:["See ",(0,t.jsx)(e.a,{href:"/geospatial-standards/3d-tiles",children:"3D Tiles Standard"})," for large-scale environments"]}),"\n",(0,t.jsxs)(e.li,{children:["Check ",(0,t.jsx)(e.a,{href:"/tools/validation",children:"Validation Tools"})," for testing"]}),"\n"]})]})}function p(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(d,{...n})}):d(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>r,x:()=>o});var l=i(6540);const t={},s=l.createContext(t);function r(n){const e=l.useContext(s);return l.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:r(n.components),l.createElement(s.Provider,{value:e},n.children)}}}]);