"use strict";(self.webpackChunkmvmd_site=self.webpackChunkmvmd_site||[]).push([[9990],{3205:(e,r,s)=>{s.r(r),s.d(r,{default:()=>H});var n=s(6540),t=s(781),i=s(8553);const a="container_qxCU",o="splitPane_rLvG",c="leftPane_G_PT",l="rightPane_VKEG",d="editorHeader_YT2b",p="shareButton__i0u",h="validateButton_z6vd",u="resultHeader_zIIk",m="validType_ov7K",y="invalidType_bCYw",g="resultSummary_AebM",f="propertyBreakdown_yZ0t",N="property_W_lY",v="propertyHeader_LtQz",x="propertyName_Ny5L",b="propertyType_TrDc",j="propertyValue_a_PT",L="propertyError_otF4",w="propertyWarning_ZAu7",_="nestedProperties_g1im",S="invalidProperty_XEDL",T="invalidValue_v7LZ",k="warningValue_kMT6",$="errorList_KDSJ",R="errorCount_kk3f",C="warningCount_vEDo",U="typeInfo_XWCC",D="expectedType_sQkd",E="editorContainer_C5zK",O="errorLine_KY7D",P="warningLine_P3c0",I="errorGlyph_PXnE",J="warningGlyph_stVi",A="clickableProperty_UkTy",V="unspecifiedType_i7uK",q="unspecifiedMessage_J9hM";var K=s(4848);const M={VideoObject:{properties:{"@type":{type:["string"],description:"The type of the item.",required:!0},"@context":{type:["string","object"],description:"The context for the schema.",required:!0},name:{type:["string"],description:"The name of the video.",required:!0},description:{type:["string"],description:"A description of the video.",required:!0},thumbnailUrl:{type:["string","URL"],description:"A thumbnail image for the video."},uploadDate:{type:["string","Date"],description:"The date the video was uploaded.",required:!0},duration:{type:["string","Duration"],description:"The duration of the video."},contentUrl:{type:["string","URL"],description:"The URL of the video content.",required:!0},embedUrl:{type:["string","URL"],description:"The URL for embedding the video."},interactionStatistic:{type:["object"],description:"Statistics about video interaction."}},required:["@type","@context","name","description","uploadDate","contentUrl"]}},Y=e=>{let{initialJson:r=""}=e;const[s,t]=(0,n.useState)(r),[Y,G]=(0,n.useState)(null),[W,z]=(0,n.useState)(!1),[B,F]=(0,n.useState)(""),H=(0,n.useRef)(null),X=(e,r)=>{const s=e.split("\n");if(!r){for(let e=0;e<s.length;e++){if(s[e].trim().includes("{"))return e+1}return}const n=r.split(".").reduce(((e,r)=>{if(r.includes("[")){const[s,...n]=r.split("[");s&&e.push(s),e.push(...n.map((e=>e.replace("]",""))))}else e.push(r);return e}),[]);let t=!1,i=0,a=!1,o=0,c=[];for(let l=0;l<s.length;l++){const e=s[l];for(let r=0;r<e.length;r++){const s=e[r];if('"'!==s||0!==r&&"\\"===e[r-1]){if(!t)if("{"===s)c.push("{");else if("["===s)c.push("["),a=!0,o=0;else if("}"===s||"]"===s){const e=c.pop();"{"===e?0:"["===e&&(a=!1)}else if(","===s&&a&&(o++,n[i]===o.toString())){if(i===n.length-1)return l+1;i++}}else if(t=!t,t){const s=e.slice(r+1),t=s.indexOf('"');if(-1!==t){if(s.slice(0,t)===n[i]){if(i===n.length-1)return l+1;i++}}}}}},Z=(0,n.useCallback)((async e=>{const r=e||s;z(!0),G(null);const n=(e,r)=>"number"==typeof r?`${e}[${r}]`:e?`${e}.${r}`:r;try{const e=JSON.parse(r),s=[],t=[],i={isValid:!0,errors:[],warnings:[],properties:[],errorLocations:[],unspecifiedType:!1},a=e["@type"],o=M[a];if(a)o||i.warnings.push(`Schema type "${a}" is not in our validation set`);else{i.unspecifiedType=!0;const e=X(r,"");e&&t.push({startLineNumber:e,endLineNumber:e,message:"Schema type is unspecified",severity:"warning",parentPath:""})}const c=function(e,a){void 0===a&&(a=""),Array.isArray(e)?e.forEach(((e,t)=>{const i=n(a,t);if("object"==typeof e&&null!==e)c(e,i);else{const n=X(r,i),a=re(`[${t}]`,e,i,void 0,n);s.push(a)}})):Object.entries(e).forEach((e=>{let[l,d]=e;const p=n(a,l),h=X(r,p),u=re(l,d,p,o?.properties[l],h);s.push(u),u.errors?.length&&(i.isValid=!1,i.errors.push(...u.errors),h&&u.errors.forEach((e=>{t.push({startLineNumber:h,endLineNumber:h,message:e,severity:"error"})}))),u.warnings?.length&&(i.warnings.push(...u.warnings),h&&u.warnings.forEach((e=>{t.push({startLineNumber:h,endLineNumber:h,message:e,severity:"warning"})}))),"object"==typeof d&&null!==d&&c(d,p)}))};if(c(e),o?.required)for(const n of o.required)if(!(n in e)){i.isValid=!1;const e=`Missing required property: ${n}`;i.errors.push(e);const s=X(r,"");s&&t.push({startLineNumber:s,endLineNumber:s,message:e,severity:"error",parentPath:""})}if(i.properties=s,i.errorLocations=t,G(i),H.current){const e=H.current,r=e.getModel(),s=t.map((e=>({range:new r.Range(e.startLineNumber,1,e.endLineNumber,1),options:{isWholeLine:!0,className:"error"===e.severity?O:P,glyphMarginClassName:"error"===e.severity?I:J,hoverMessage:{value:e.message}}})));e.deltaDecorations([],s)}}catch(t){const e={isValid:!1,errors:["Invalid JSON syntax: "+t.message],warnings:[],properties:[{name:"root",value:r,type:"invalid",path:"root",errors:["Invalid JSON syntax: "+t.message],warnings:[],properties:[]}],errorLocations:[{startLineNumber:1,endLineNumber:1,message:"Invalid JSON syntax: "+t.message,severity:"error"}]};G(e)}finally{z(!1)}}),[s]);(0,n.useEffect)((()=>{r&&!s&&(t(r),Z(r))}),[r,Z,s]);const Q=e=>{if(H.current){const r=H.current;r.revealLineInCenter(e.startLineNumber),r.setPosition({lineNumber:e.startLineNumber,column:1}),r.focus()}},ee=e=>{if(e&&H.current){const r=H.current;r.revealLineInCenter(e),r.setPosition({lineNumber:e,column:1}),r.focus()}},re=(e,r,s,n,t)=>{const i={name:e,value:r,type:Array.isArray(r)?"Array":typeof r,path:s,errors:[],warnings:[],properties:[],expectedType:n?.type.join(" | "),lineNumber:t};if(n){const s=Array.isArray(r)?"Array":typeof r;n.type.some((e=>{switch(e){case"string":return"string"==typeof r;case"URL":if("string"==typeof r)try{return new URL(r),!0}catch{return!1}return!1;case"Date":if("string"==typeof r){const e=new Date(r);return!isNaN(e.getTime())}return!1;case"Duration":return"string"==typeof r&&/^PT(\d+H)?(\d+M)?(\d+S)?$/.test(r);case"object":return"object"==typeof r&&null!==r;default:return s===e.toLowerCase()}}))||i.errors?.push(`Invalid type for ${e}. Expected ${n.type.join(" or ")}, got ${s}`)}return"object"==typeof r&&null!==r&&(Array.isArray(r)?r.forEach(((e,r)=>{const n=re(`[${r}]`,e,s);i.properties?.push(n),n.errors?.length&&i.errors?.push(...n.errors),n.warnings?.length&&i.warnings?.push(...n.warnings)})):Object.entries(r).forEach((e=>{let[r,n]=e;const t=re(r,n,s?`${s}.${r}`:r);i.properties?.push(t),t.errors?.length&&i.errors?.push(...t.errors),t.warnings?.length&&i.warnings?.push(...t.warnings)}))),i},se=e=>{const r=e.errors&&e.errors.length>0,s=e.warnings&&e.warnings.length>0;return"object"===e.type||"Array"===e.type?(0,K.jsx)("div",{className:_,children:e.properties?.map(((e,r)=>(0,K.jsxs)("div",{className:`${N} ${e.errors?.length?S:""} ${A}`,onClick:()=>ee(e.lineNumber),role:"button",tabIndex:0,onKeyDown:r=>{"Enter"!==r.key&&" "!==r.key||ee(e.lineNumber)},children:[(0,K.jsxs)("div",{className:v,children:[(0,K.jsx)("span",{className:x,children:e.name}),(0,K.jsxs)("div",{className:U,children:[(0,K.jsx)("span",{className:b,children:e.type}),e.expectedType&&e.errors?.length>0&&(0,K.jsxs)("span",{className:D,children:["Expected: ",e.expectedType]})]})]}),se(e),e.errors?.map(((e,r)=>(0,K.jsxs)("div",{className:L,children:["\u26a0 ",e]},r))),e.warnings?.map(((e,r)=>(0,K.jsxs)("div",{className:w,children:["\u2139 ",e]},r)))]},r)))}):"invalid"===e.type?(0,K.jsx)("div",{className:`${j} ${T} ${A}`,onClick:()=>ee(e.lineNumber),role:"button",tabIndex:0,onKeyDown:r=>{"Enter"!==r.key&&" "!==r.key||ee(e.lineNumber)},children:e.value}):(0,K.jsx)("div",{className:`${j} ${r?T:""} ${s?k:""} ${A}`,onClick:()=>ee(e.lineNumber),role:"button",tabIndex:0,onKeyDown:r=>{"Enter"!==r.key&&" "!==r.key||ee(e.lineNumber)},children:"string"==typeof e.value?e.value:JSON.stringify(e.value)})};return(0,K.jsx)("div",{className:a,children:(0,K.jsxs)("div",{className:o,children:[(0,K.jsxs)("div",{className:c,children:[(0,K.jsxs)("div",{className:d,children:[(0,K.jsx)("h3",{children:"JSON-LD Input"}),(0,K.jsx)("button",{className:p,onClick:()=>{try{JSON.parse(s);const e=window.location.origin+window.location.pathname,r=`${e}?code=${encodeURIComponent(s)}`;F(r),navigator.clipboard.writeText(r).then((()=>{alert("Shareable URL copied to clipboard!")})).catch((e=>{console.error("Failed to copy URL:",e),alert("Generated shareable URL but failed to copy to clipboard. You can copy it manually from the console."),console.log("Shareable URL:",r)}))}catch(e){alert("Please enter valid JSON before generating a shareable URL")}},disabled:!s.trim(),children:"Share"})]}),(0,K.jsx)("div",{className:E,children:(0,K.jsx)(i.Ay,{height:"100%",defaultLanguage:"json",value:s,onChange:e=>t(e||""),options:{minimap:{enabled:!1},lineNumbers:"on",glyphMargin:!0,folding:!0,lineDecorationsWidth:5,formatOnPaste:!0,scrollBeyondLastLine:!1},onMount:e=>{H.current=e}})}),(0,K.jsx)("button",{className:h,onClick:()=>Z(),disabled:W||!s.trim(),children:W?"Validating...":"Validate Schema"})]}),(0,K.jsx)("div",{className:l,children:Y&&(0,K.jsxs)(K.Fragment,{children:[(0,K.jsxs)("div",{className:u,children:[(0,K.jsx)("h3",{children:Y.unspecifiedType?(0,K.jsx)("span",{className:V,children:"Type Unspecified"}):Y.isValid?(0,K.jsx)("span",{className:m,children:"\u2713 Valid Schema"}):(0,K.jsx)("span",{className:y,children:"\u26a0 Invalid Schema"})}),(0,K.jsxs)("div",{className:g,children:[Y.errors.length>0&&(0,K.jsxs)("span",{className:R,children:[Y.errors.length," ERRORS"]}),Y.warnings.length>0&&(0,K.jsxs)("span",{className:C,children:["\xa0",Y.warnings.length," WARNINGS"]})]})]}),Y.unspecifiedType&&(0,K.jsx)("div",{className:q,children:"No schema type specified. Select a type to validate against Schema.org standards."}),Y.errors.length>0&&(0,K.jsx)("div",{className:$,children:Y.errors.map(((e,r)=>(0,K.jsxs)("div",{className:L,onClick:()=>{const r=Y.errorLocations.find((r=>r.message===e));r&&Q(r)},role:"button",tabIndex:0,onKeyDown:r=>{if("Enter"===r.key||" "===r.key){const r=Y.errorLocations.find((r=>r.message===e));r&&Q(r)}},children:["\u26a0 ",e]},r)))}),(0,K.jsx)("div",{className:f,children:Y.properties.map(((e,r)=>(0,K.jsxs)("div",{className:`${N} ${e.errors?.length?S:""} ${A}`,onClick:()=>ee(e.lineNumber),role:"button",tabIndex:0,onKeyDown:r=>{"Enter"!==r.key&&" "!==r.key||ee(e.lineNumber)},children:[(0,K.jsxs)("div",{className:v,children:[(0,K.jsx)("span",{className:x,children:e.name}),(0,K.jsxs)("div",{className:U,children:[(0,K.jsx)("span",{className:b,children:e.type}),e.expectedType&&e.errors?.length>0&&(0,K.jsxs)("span",{className:D,children:["Expected: ",e.expectedType]})]})]}),se(e),e.errors?.map(((e,r)=>(0,K.jsxs)("div",{className:L,children:["\u26a0 ",e]},r))),e.warnings?.map(((e,r)=>(0,K.jsxs)("div",{className:w,children:["\u2139 ",e]},r)))]},r)))})]})})]})})};var G=s(6347);const W="validatorPage_YseR",z="header_lxwW",B="description_RRei",F="validatorContainer_wOnr";const H=function(){const e=(0,G.zy)(),[r,s]=(0,n.useState)("");return(0,n.useEffect)((()=>{const r=new URLSearchParams(e.search).get("code");if(r)try{const e=decodeURIComponent(r),n=JSON.stringify(JSON.parse(e),null,2);s(n)}catch(n){console.error("Failed to parse JSON from URL:",n)}}),[e]),(0,K.jsx)(t.A,{title:"Schema Validator",description:"Validate your JSON-LD schemas against Schema.org standards",children:(0,K.jsxs)("div",{className:W,children:[(0,K.jsxs)("div",{className:z,children:[(0,K.jsx)("h1",{children:"Schema Validator"}),(0,K.jsxs)("div",{className:B,children:[(0,K.jsx)("p",{children:"Validate your JSON-LD schemas against Schema.org standards. You can either:"}),(0,K.jsxs)("ul",{children:[(0,K.jsx)("li",{children:"Paste your JSON-LD directly into the editor below"}),(0,K.jsxs)("li",{children:["Share schemas by adding them to the URL with ",(0,K.jsx)("code",{children:"?code=YOUR_URL_ENCODED_JSON"})]})]})]})]}),(0,K.jsx)("div",{className:F,children:(0,K.jsx)(Y,{initialJson:r})})]})})}}}]);